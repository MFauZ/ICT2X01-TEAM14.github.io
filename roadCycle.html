<!DOCTYPE>
<html>
    <head>
        <title>PCN</title>
        <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-aabb-collider-component@%5E2.2.1/dist/aframe-aabb-collider-component.min.js"></script>
        <script src="https://unpkg.com/aframe-border-component@0.1.3/dist/aframe-border-component.min.js"></script>
        <script src="js/checkpoint-controls.js"></script>
        <script src="js/movement-controls.js"></script>
        <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v4.2.0/dist/aframe-extras.min.js"></script>
        <script src="js/editFunctions.js"></script>
    </head>
    
    <body>
        <a-scene stats-in-vr physics="debug: true;">
            <!--Assets-->
            <a-assets>
                <a-mixin id="checkpoint"></a-mixin>
                <a-mixin id="checkpoint-hovered" color="#6CEEB5"></a-mixin>
    
                <a-asset-item id="cop-obj" src="images/cop/cop.obj"></a-asset-item>
                <a-asset-item id="cop-mtl" src="images/cop/copMaterial.mtl"></a-asset-item>
                <img id="bicycleHandle" src="images/bicycle_handle.png">
                <img id="road" src="images/road1.jpg">
                <img id="HDB1" src="images/HDB1.png">
                <img id="HDB2" src="images/HDB2.png">
                <img id="grass1" src="images/sideGrass1.png">
                <img id="footpath1" src="images/footpath1.png">
                <img id="helmet" src="images/helmet.png">
                <img id="vestImg" src="images/vest.png">
            </a-assets>
    
            <!--Skybox-->
    
            <a-entity bound-collider geometry="primitive: box" aabb-collider="objects: a-box" movement-controls="controls: checkpoint"
                checkpoint-controls="mode: animate">
                <a-entity camera position="-20 10 0" look-controls="pointerLockEnabled: true">
                    <a-entity cursor position="0 0 -1" geometry="primitive: ring; radiusInner: 0.015; radiusOuter: 0.03;"
                        material="color: #f94a00"></a-entity>

                    <a-image src="#bicycleHandle" width="2" position="0 -.7 -1" alpha-test="0.5"></a-image>
                    <a-image id="helmetCheck" src="#helmet" scale="-1" width="1.5" position="-5.3 2 -4" alpha-test="0.5"
                        visible="false"></a-image>
                    <a-image id="vestCheck" src="#vestImg" scale="-1" width="2" height="2" position="-6 0 -4.5" alpha-test="0.5"
                        geometry="primitive: plane; height: 2; width: 2" visible="false"></a-image>
                </a-entity>
                <!-- <a-camera bound-collider geometry="primitive: box" aabb-collider="objects: a-box" wasd-controls="acceleration: 700"
                        position="-20 10 0">
                        <a-cursor color="red" cursor="fuse: true" position="0 0 -1" raycaster="objects: .entities">
                            <a-animation begin="click" easing="ease-in" attribute="scale" dur="150" fill="backwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
                            <a-animation begin="fusing" easing="ease-in" attribute="scale" dur="1500" fill="backwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
                        </a-cursor>
                    
                        <a-image src="#bicycleHandle" width="2" position="0 -.7 -1" alpha-test="0.5"></a-image>
                        <a-image id="helmetCheck" src="#helmet" scale="-1" width="1.5" position="-5.3 2 -4" alpha-test="0.5" visible="false"></a-image>
                        <a-image id="vestCheck" src="#vestImg" scale="-1" width="2" height="2" position="-6 0 -4.5" alpha-test="0.5"
                            geometry="primitive: plane; height: 2; width: 2" visible="false"></a-image>
                    </a-camera> -->
            </a-entity>
    
            <a-image class="road" src="#road" height="1500" width="90" position="11.6 0 -700" rotation="-90 0 0" repeat="1 50"
                static-body></a-image>
            <a-image class="grass" src="#grass1" height="1500" width="10" position="-38.40 0 -700" rotation="-90 0 0"
                repeat="1 50"></a-image>
            <a-image class="grass" src="#grass1" height="1500" width="10" position="61.6 0 -700" rotation="-90 0 0" repeat="1 100"></a-image>
            <a-image class="footpath1" src="#footpath1" height="1500" width="10" position="-48.40 0 -700" rotation="-90 0 0"
                repeat="1 50"></a-image>
            <a-image class="footpath1" src="#footpath1" height="1500" width="10" position="71.6 0 -700" rotation="-90 0 0"
                repeat="1 50"></a-image>
    
            <a-image class="hdb" src="#HDB1" height="1500" width="250" position="-54 122 -700" rotation="0 -90 -90" repeat="1 3"></a-image>
            <a-image class="hdb" src="#HDB2" height="1500" width="250" position="77.75 122 -700" rotation="0 -90 -90"
                repeat="1 3"></a-image>
    
            <a-obj-model class="entities" onclick="safetyToggle()" id="cop" src="#cop-obj" mtl="#cop-mtl" position="-38 7.4 -70"
                rotation="0 -90 0" scale="2.5 3 2.5" visible="false">
                <a-text value="SCTF Officer" color="#111111" position="2.5 1.5 0" width="20" rotation="0 180 0"></a-text>
            </a-obj-model>
    
            <!--Collision Trigger Test-->
            <a-box bound-collider="" static-body="" position="-14 0 -25" width="40" height="10" color="#FFC65D" material="color:#808080"
                id="bound1" class="box"></a-box>
    
            <!-- Checkpoints -->
            <a-entity position="-20 10 -50" checkpoint="" radius="1" height="5" color="#E6FF00" material="color: #E6FF00; opacity:0.5; transparent:true"
            geometry="primitive: cylinder; radius:2; height:5">
            </a-entity>
    </body>
    <script src="js/scenarioJS.js"></script>
</html>


